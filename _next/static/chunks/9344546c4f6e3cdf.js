(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13672,e=>{e.v("/minesweeper/_next/static/media/bomb.8b152eb2.svg")},38542,e=>{e.v("/minesweeper/_next/static/media/timer.10359921.svg")},51633,e=>{e.v("/minesweeper/_next/static/media/redFlag.acbdf8b4.png")},79474,(e,t,r)=>{"use strict";var i=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;r.c=function(e){return i.H.useMemoCache(e)}},932,(e,t,r)=>{"use strict";t.exports=e.r(79474)},52683,e=>{"use strict";var t=e.i(43476),r=e.i(932);let i={src:e.i(13672).default,width:384,height:384,blurWidth:0,blurHeight:0};var n=e.i(71645);function l(){let e,t=(0,r.c)(2),i=(0,n.useState)(!1)[1];return t[0]!==i?(e=()=>i(a),t[0]=i,t[1]=e):e=t[1],e}function a(e){return!e}class s{v;refresh=()=>{throw Error("Refresh not bind!")};constructor(e){this.v=e}bind(e){if(e){let t=l();this.refresh=()=>{e(),t()}}else this.refresh=l()}get value(){return this.v}set value(e){this.v=e,this.refresh?.()}}function u(e){return new s(e)}let o={src:e.i(38542).default,width:16,height:16,blurWidth:0,blurHeight:0},c=0,f=!1;function d(){let e,i=(0,r.c)(1);return M.bind(),i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex items-center text-2xl",children:[(0,t.jsx)("img",{width:"40",height:"40",src:o.src}),`${m(Math.floor(M.value/60))}:${m(M.value%60)}`]}),i[0]=e):e=i[0],e}function m(e){return`${e<10?"0":""}${e}`}let v={};function h(e){if(e){let[t,r]=A(e);T.value=function(e,t){let r=g();for(;"mine"===r[e][t].value;)r=g();return r}(t,r),setTimeout(()=>b(T.value[t][r]))}else T.value=g();j.isFirstTime=!0,N.value="playing",M.value=c=0,f=!1,x()}function g(){var e;let t=function(){let{rows:e,cols:t}=O[R.value],r=[];for(let i=0;i<e;i++){r[i]=[];for(let e=0;e<t;e++)r[i][e]={value:0,isFlagged:!1,isOpened:!1}}return r}();return(e=t=function(e){let{rows:t,cols:r,totalMines:i}=O[R.value];for(let n=0;n<i;){let i=y(t),l=y(r);"mine"!==e[i][l].value&&(e[i][l].value="mine",n++)}return e}(t)).forEach((t,r)=>{t.forEach((i,n)=>{if("mine"!==i.value){let l=0;w.forEach(([i,a])=>{let s=r+i,u=n+a;s in e&&u in t&&"mine"===e[s][u].value&&l++}),l>0&&(i.value=l)}})}),t=e}function p(e){for(let t of T.value)for(let r of t)"mine"===r.value&&(r.isOpened=!0,e&&(r.hightlight="bg-[green]"))}function b(e){if(!function e(t){if(!t){if(f)return;f=!0,c=E()}if(!f)return;let r=E()-c;M.value=Math.floor(r),setTimeout(()=>e(!0),(M.value-r+1)*1e3)}(),"mine"===e.value){if(j.isFirstTime)return h(e);v.GAME_OVER.play(),e.isOpened=!0,e.hightlight="bg-[red]",N.value="lose",p(!1)}else(e.value,e.value)?(v.REVEAL_NUMBER.play(),e.isOpened=!0):e.value||(v.REVEAL_EMPTY.play(),function(e){let t,r=[A(e)];for(;t=r.shift();){let[e,i]=t,n=T.value[e][i];if(n.isOpened=!0,!n.value)for(let[t,n]of w){let l=e+t,a=i+n;l in T.value&&a in T.value[0]&&!T.value[l][a].isOpened&&!T.value[l][a].isFlagged&&r.push([l,a])}}}(e)),function(){let e=0;for(let t of T.value)for(let r of t)!r.isOpened&&e++;return e===O[R.value].totalMines}()&&(v.GAME_WIN.play(),p(!0),N.value="win");j.isFirstTime=!1,T.refresh?.()}function x(){let e=0;for(let t of T.value)for(let r of t)"mine"===r.value&&e++,r.isFlagged&&e--;F.value=e}function A(e){let{rows:t,cols:r}=O[R.value];for(let i=0;i<t;i++)for(let t=0;t<r;t++)if(T.value[i][t]===e)return[i,t];throw Error("No such cell!")}function E(){return performance.now()/1e3}function y(e){return Math.floor(Math.random()*e)}window.oncontextmenu=e=>e.preventDefault(),function(){class e extends Audio{constructor(e){super(e),this.load()}play(){this.currentTime=0,super.play()}}let t={REVEAL_EMPTY:"revealEmpty.wav",REVEAL_NUMBER:"revealNumber.wav",FLAG_PLACE:"flagPlace.wav",FLAG_REMOVE:"flagRemove.wav",GAME_OVER:"gameOver.wav",GAME_WIN:"gameWin.wav"};for(let r in t)v[r]=new e(`${location.pathname}/sfx/${t[r]}`)}();let _=[null,"text-[blue]","text-[green]","text-[tomato]","text-[darkviolet]","text-[darkred]","text-[steelblue]","text-[black]","text-[black]"],w=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],O={easy:{rows:9,cols:9,totalMines:10},medium:{rows:16,cols:16,totalMines:40},expert:{rows:16,cols:30,totalMines:99}},j={isFirstTime:!0},N=u("playing"),R=u("easy"),M=u(0),F=u(O.easy.totalMines),T=u(g());function C(){let e,n=(0,r.c)(3);if(F.bind(),N.bind(S),"win"===N.value){let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{children:"Wygrałeś!"}),n[0]=e):e=n[0],e}if("lose"===N.value){let e;return n[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{children:"Koniec gry!"}),n[1]=e):e=n[1],e}return n[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"flex items-center text-2xl",children:[(0,t.jsx)("img",{width:"40",height:"40",src:i.src}),F.value]}),n[2]=e):e=n[2],e}function S(){"playing"!==N.value&&(f=!1)}function U(){let e,i=(0,r.c)(1);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("header",{className:"flex justify-between items-center py-2 font-semibold text-md gap-1",children:[(0,t.jsx)(C,{}),(0,t.jsx)("button",{className:"px-3 py-1 bg-zinc-900 text-zinc-50 rounded-md cursor-pointer",onClick:k,children:"Nowa gra"}),(0,t.jsx)(d,{})]}),i[0]=e):e=i[0],e}function k(){return h()}let L=function(){for(var e,t,r=0,i="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(i=e(t[r]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}(e))&&(i&&(i+=" "),i+=t);return i},D={src:e.i(51633).default,width:64,height:64,blurWidth:8,blurHeight:8,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAvUlEQVR42qXKMQqCUAAAUIugloamhhAdBN1DF3HXoIYu4CU6RdCUg55AEBeHZhdtcG0xxMFUkELQUPyE+iMDh9aGtz0EADA+qeoud13i5XkYsCwa2DZdR9EcNs0Aadt26CrKPua4S8wwbkRR94+HKKpNlk27cJWkY4Ci8LZY9BKePzdpOvsGWT4EOA5CDKsikkxDgsgTQbD64DnO5qnr29IwVsBxlpVpsqWmrduimHTB9322rusRhBD59X94A0o+rOTx2VW7AAAAAElFTkSuQmCC"};function z(e){let n,l,a,s,u,o,c=(0,r.c)(22),{cell:f}=e,d="number"==typeof f.value&&_[f.value],m=!f.isOpened&&"bg-zinc-300 border-4 border-t-zinc-200 border-l-zinc-200 border-r-zinc-400 border-b-zinc-400 shadow-sm",h=!f.isOpened&&"easy"===R.value&&"border-6",g="mine"===f.value&&f.hightlight,p=!f.isOpened&&"cursor-pointer";c[0]!==d||c[1]!==m||c[2]!==h||c[3]!==g||c[4]!==p?(n=L("w-[4.5vh] h-[4.5vh] border border-zinc-600 flex justify-center items-center text-[3vh] font-bold cursor-default relative",d,m,h,g,"easy"===R.value&&"w-[8vh] h-[8vh] text-[5.33vh]",p),c[0]=d,c[1]=m,c[2]=h,c[3]=g,c[4]=p,c[5]=n):n=c[5],c[6]!==f?(l=()=>{"lose"!==N.value&&!f.isOpened&&!f.isFlagged&&b(f)},a=()=>{"playing"!==N.value||f.isOpened||(0!==F.value||f.isFlagged)&&(f.isFlagged?v.FLAG_PLACE.play():v.FLAG_REMOVE.play(),f.isFlagged=!f.isFlagged,x(),T.refresh?.())},c[6]=f,c[7]=l,c[8]=a):(l=c[7],a=c[8]);let A=f.isOpened&&"number"==typeof f.value&&f.value||"";return c[9]!==f.isOpened||c[10]!==f.value?(s=f.isOpened&&"mine"===f.value&&(0,t.jsx)("img",{className:"w-[80%] h-[80%]",src:i.src}),c[9]=f.isOpened,c[10]=f.value,c[11]=s):s=c[11],c[12]!==f.isFlagged||c[13]!==f.isOpened?(u=!f.isOpened&&f.isFlagged&&(0,t.jsx)("img",{className:"w-[80%] h-[80%]",src:D.src}),c[12]=f.isFlagged,c[13]=f.isOpened,c[14]=u):u=c[14],c[15]!==s||c[16]!==u||c[17]!==n||c[18]!==l||c[19]!==a||c[20]!==A?(o=(0,t.jsxs)("div",{className:n,onClick:l,onContextMenu:a,children:[A,s,u]}),c[15]=s,c[16]=u,c[17]=n,c[18]=l,c[19]=a,c[20]=A,c[21]=o):o=c[21],o}function G(){return T.bind(),T.value.map((e,r)=>(0,t.jsx)("div",{className:"flex",children:e.map((e,r)=>(0,t.jsx)(z,{cell:e},r))},r))}function V(){let e,i=(0,r.c)(1);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("ul",{className:"flex justify-around",children:Object.keys(O).map(W)}),i[0]=e):e=i[0],e}function W(e){return(0,t.jsx)("li",{children:(0,t.jsx)("button",{className:L("mt-2 px-4 py-1 text-zinc-50 font-semibold rounded-md cursor-pointer",R.value===e?"bg-zinc-700":"bg-zinc-900"),onClick:()=>R.value=e,children:e})},e)}function B(){let e,i=(0,r.c)(1);return R.bind(h),i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("main",{className:"py-2 px-6 bg-zinc-300 rounded-2xl w-fit m-auto",children:[(0,t.jsx)(U,{}),(0,t.jsx)(G,{}),(0,t.jsx)(V,{})]}),i[0]=e):e=i[0],e}function P(){let e,i=(0,r.c)(1);if(function(){let e,t,i=(0,r.c)(3),[l,a]=(0,n.useState)(!1);return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>a(!0),i[0]=e):e=i[0],i[1]!==l?(t=[l],i[1]=l,i[2]=t):t=i[2],(0,n.useEffect)(e,t),l}())return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(B,{}),i[0]=e):e=i[0],e}e.s(["default",()=>P],52683)}]);